<div class="form-wrapper d-flex flex-column align-items-center">
    <form [formGroup]="newBoatForm">
        <div class="form-fields">
            <div class="input-container" [ngClass]="{'input-container-error' : (newBoatForm.controls.price.touched && newBoatForm.controls.price.errors?.['required'])}">
                <input id="price" type="number" formControlName="price" name="price" (focus)="newBoatForm.controls.price.markAsUntouched()" required>
                <label for="price" class="input-label">Price</label>
                <span class="measurment">$/day</span>
                <span class="error-message" *ngIf="newBoatForm.controls.price.touched && newBoatForm.controls.price.errors?.['required']">Price must be specified.</span>
            </div>
        </div>
        <div class="form-fields">
            <div class="input-container" [ngClass]="{'input-container-error' : (newBoatForm.controls.advancePayment.touched && newBoatForm.controls.advancePayment.errors?.['required'])}">
                <select id="advancePayment" formControlName="advancePayment" name="advancePayment" (focus)="newBoatForm.controls.advancePayment.markAsUntouched()" required>
                    <option style="display:none"></option>
                    <option [ngValue]="15">15%</option>
                    <option [ngValue]="25">25%</option>
                    <option [ngValue]="35">35%</option>
                </select>
                <label for="advancePayment" class="input-label">How much % do you keep if someone cancels?</label>
                <span class="error-message" *ngIf="newBoatForm.controls.advancePayment.touched && newBoatForm.controls.advancePayment.errors?.['required']">Advance payment must be specified.</span>
            </div>
        </div>
        <span class="add-service-text">Chose additional services you provide</span>
        <div formArrayName="additionalServices">
            <div *ngFor="let additionalService of additionalServices().controls; let i=index" [formGroupName]="i" class="form-fields d-flex flex-row mt-2">
                <div class="input-container w-75 me-2">
                    <input (input)="onAdditionalServiceChanged(i)" id="serviceName" type="text" formControlName="name" name="serviceName" (focus)="newBoatForm.controls.name.markAsUntouched()" required>
                    <label for="serviceName" class="input-label">Additional service name</label>
                </div>
                <div class="input-container w-25 ms-2">
                    <input (input)="onAdditionalServiceChanged(i)" id="servicePrice" type="number" formControlName="price" name="servicePrice" (focus)="newBoatForm.controls.price.markAsUntouched()" required>
                    <label for="servicePrice" class="input-label">Price</label>
                    <span class="measurment">$</span>
                </div>
            </div>
        </div>
        <div class="add-service-btn d-flex flex-row" role="button">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM16 13H13V16C13 16.55 12.55 17 12 17C11.45 17 11 16.55 11 16V13H8C7.45 13 7 12.55 7 12C7 11.45 7.45 11 8 11H11V8C11 7.45 11.45 7 12 7C12.55 7 13 7.45 13 8V11H16C16.55 11 17 11.45 17 12C17 12.55 16.55 13 16 13Z" fill="#A2A2A2"/>
                </svg>                
            <span class="add-service-text ms-2" (click)="addAdditionalService()">Add another additional service</span>
        </div>
    </form>
    <app-primary-button [text]="'Next'" class="next-btn" (click)="addPricing()"></app-primary-button>
</div>
