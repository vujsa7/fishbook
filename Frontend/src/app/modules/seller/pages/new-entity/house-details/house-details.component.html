<div class="form-wrapper d-flex flex-column align-items-center">
    <form [formGroup]="newEntityForm">
        <div class="form-fields">
            <div class="input-container" [ngClass]="{'input-container-error' : (newEntityForm.controls.maxPeople.touched && newEntityForm.controls.maxPeople.errors?.['required'])}">
                <input id="maxPeople" type="number" formControlName="maxPeople" name="maxPeople" (focus)="newEntityForm.controls.maxPeople.markAsUntouched()" required>
                <label for="maxPeople" class="input-label">Maximum people</label>
                <span class="error-message" *ngIf="newEntityForm.controls.maxPeople.touched && newEntityForm.controls.maxPeople.errors?.['required']">Maximum people must be specified.</span>
            </div>
        </div>
        <div class="add-room-text grey-text">How many rooms does the house have?</div>
        <div formArrayName="rooms">
            <div *ngFor="let room of rooms().controls; let i=index" [formGroupName]="i" class="input-container d-flex flex-row mt-2 mb-2">
                <input (input)="onRoomsChanged(i)" id="numOfBeds" type="number" formControlName="numOfBeds" name="numOfBeds" (focus)="newEntityForm.controls.numOfBeds.markAsUntouched()" required>
                <label for="numOfBeds" class="input-label">Number of sleeping beds in room</label>
            </div>
        </div>
        <div class="add-room-btn d-flex flex-row" role="button">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM16 13H13V16C13 16.55 12.55 17 12 17C11.45 17 11 16.55 11 16V13H8C7.45 13 7 12.55 7 12C7 11.45 7.45 11 8 11H11V8C11 7.45 11.45 7 12 7C12.55 7 13 7.45 13 8V11H16C16.55 11 17 11.45 17 12C17 12.55 16.55 13 16 13Z" fill="#A2A2A2"/>
                </svg>                
            <span class="grey-text ms-2" (click)="addRoom()">Add another room</span>
        </div>
    </form>
    <app-primary-button [text]="'Next'" class="next-btn" (click)="addHouseDetails()" [isBtnDisabled]="!newEntityForm.valid"></app-primary-button>
</div>
