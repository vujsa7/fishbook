<div>
    <app-spinner-fullscreen *ngIf="!entityDetails"></app-spinner-fullscreen>
    <div class="d-flex toolbar justify-content-end" *ngIf="ownerUsername == loggedInUserUsername">
        <button class="btn ps-0 shadow-none">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM16 13H13V16C13 16.55 12.55 17 12 17C11.45 17 11 16.55 11 16V13H8C7.45 13 7 12.55 7 12C7 11.45 7.45 11 8 11H11V8C11 7.45 11.45 7 12 7C12.55 7 13 7.45 13 8V11H16C16.55 11 17 11.45 17 12C17 12.55 16.55 13 16 13Z" fill="#4BB3FD"/>
            </svg>
            <span class="toolbar-btn align-middle">New reservation</span> 
        </button>
        <button class="btn ps-0 shadow-none">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 6H17.82C17.93 5.69 18 5.35 18 5C18 3.34 16.66 2 15 2C13.95 2 13.04 2.54 12.5 3.35L12 4.02L11.5 3.34C10.96 2.54 10.05 2 9 2C7.34 2 6 3.34 6 5C6 5.35 6.07 5.69 6.18 6H4C2.89 6 2.01 6.89 2.01 8L2 19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V8C22 6.89 21.11 6 20 6ZM15 4C15.55 4 16 4.45 16 5C16 5.55 15.55 6 15 6C14.45 6 14 5.55 14 5C14 4.45 14.45 4 15 4ZM9 4C9.55 4 10 4.45 10 5C10 5.55 9.55 6 9 6C8.45 6 8 5.55 8 5C8 4.45 8.45 4 9 4ZM19 19H5C4.45 19 4 18.55 4 18V17H20V18C20 18.55 19.55 19 19 19ZM20 14H4V9C4 8.45 4.45 8 5 8H9.08L7.6 10.02C7.27 10.47 7.37 11.1 7.82 11.42C8.26 11.74 8.89 11.64 9.21 11.2L12 7.4L14.79 11.2C15.11 11.64 15.74 11.74 16.18 11.42C16.63 11.1 16.73 10.47 16.4 10.02L14.92 8H19C19.55 8 20 8.45 20 9V14Z" fill="#4BB3FD"/>
            </svg>
            <span class="toolbar-btn align-middle">Special offers</span>   
        </button>
        <button class="btn ps-0 shadow-none" (click)="setAvailability()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 6.81976V17.1798C7 17.9698 7.87 18.4498 8.54 18.0198L16.68 12.8398C17.3 12.4498 17.3 11.5498 16.68 11.1498L8.54 5.97976C7.87 5.54976 7 6.02976 7 6.81976Z" fill="#4BB3FD"/>
            </svg>
            <span class="toolbar-btn align-middle">Availability</span>  
        </button>
        <button class="btn ps-0 shadow-none">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 6.81976V17.1798C7 17.9698 7.87 18.4498 8.54 18.0198L16.68 12.8398C17.3 12.4498 17.3 11.5498 16.68 11.1498L8.54 5.97976C7.87 5.54976 7 6.02976 7 6.81976Z" fill="#4BB3FD"/>
            </svg>
            <span class="toolbar-btn align-middle">Unavailability</span>  
        </button>
        <button class="btn ps-0 shadow-none" routerLink="/seller/edit-{{entityType}}/{{entityDetails.id}}">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 17.4601V20.5001C3 20.7801 3.22 21.0001 3.5 21.0001H6.54C6.67 21.0001 6.8 20.9501 6.89 20.8501L17.81 9.94006L14.06 6.19006L3.15 17.1001C3.05 17.2001 3 17.3201 3 17.4601ZM20.71 7.04006C21.1 6.65006 21.1 6.02006 20.71 5.63006L18.37 3.29006C17.98 2.90006 17.35 2.90006 16.96 3.29006L15.13 5.12006L18.88 8.87006L20.71 7.04006Z" fill="#4BB3FD"/>
            </svg>
            <span class="edit toolbar-btn align-middle">Edit</span>    
        </button>
    </div>
    <div *ngIf="entityDetails" class="page-wrapper d-flex flex-column">
        <div class="d-flex images-info-wrapper">
           <entity-images-viewer class="w-100" [images]="entityDetails.images"></entity-images-viewer>
            <div class="info d-flex flex-column w-100">
                <div class="title d-flex w-100 justify-content-between">
                    <h3>{{entityDetails.name}}</h3>
                    <div class="d-flex rating align-items-center">
                        <svg class="star-icon"></svg>
                        <span *ngIf="entityDetails.rating != 0">{{entityDetails.rating}}</span>
                        <span *ngIf="entityDetails.rating == 0">Not rated yet</span>
                    </div>
                </div>
                <span class="grey-text owner">Owner: {{entityDetails.seller}}</span>
                <span class="grey-text description">{{entityDetails.description}}</span>
                <span class="grey-text rules" *ngIf="entityDetails.rules.length > 0">Rules: {{entityDetails.rules.join(', ')}}</span>
                <house-rental-details *ngIf="entityType == 'house'" [houseSpecifications]="entityDetails.houseSpecifications" [price]="entityDetails.price" [location]="entityDetails.location"></house-rental-details>
                <boat-rental-details *ngIf="entityType == 'boat'" [boatSpecifications]="entityDetails.boatSpecifications" [price]="entityDetails.price" [location]="entityDetails.location"></boat-rental-details>
                <adventure-rental-details *ngIf="entityType == 'adventure'" [price]="entityDetails.price" [location]="entityDetails.location" [maxPeople]="entityDetails.maxPeople"></adventure-rental-details>
                <div class="d-flex flex-column align-items-center">
                    <app-primary-button class="w-100 mb-2" text="Rent now" [routerLink]="['/client/reservation/', entityDetails.id]"></app-primary-button>
                    <span class="grey-text fee" *ngIf="entityDetails.cancellationFee != undefined && entityDetails.cancelationFee != 0">{{entityType.charAt(0).toUpperCase()+entityType.slice(1)}} owner keeps {{entityDetails.cancellationFee}}% of every cancelled reservation</span>
                </div> 
            </div>
        </div>
        <boat-specifications class="boat-specifications" *ngIf="entityType == 'boat'" [boatSpecifications]="entityDetails.boatSpecifications" [navigationEquipment]="entityDetails.navigationEquipment" [fishingEquipment]="entityDetails.fishingEquipment"></boat-specifications>
        <adventure-about class="adventure-about" *ngIf="entityType == 'adventure'" [aboutSeller]="entityDetails.aboutSeller" [fishingEquipment]="entityDetails.fishingEquipment" [sellerImg]="entityDetails.sellerImg"></adventure-about>
        <entity-special-offers *ngIf="entityDetails.specialOffers" [specialOffers]="entityDetails.specialOffers"></entity-special-offers>
        <adventure-gallery class="adventure-gallery" *ngIf="entityType == 'adventure' && entityDetails.previousAdventureImages.length != 0" [previousAdventureImages]="entityDetails.previousAdventureImages"></adventure-gallery>
    </div>
</div>